<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
				<meta charset="utf-8">

				<title>Physical activity during the day</title>
				<link rel="icon" type="image/png" href="/assets/img/favicon.png" />

        

				<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

				<script src="https://cdn.jsdelivr.net/jquery.typeit/4.4.0/typeit.min.js"></script>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
				<link rel="stylesheet" href="/assets/css/chartist.css">
        <link rel="stylesheet" href="/assets/css/chartist-plugin-tooltip.css">
				<link rel="stylesheet" href="/assets/css/custom.css?v=2019-03-11-00-26-47-+0100">
				<link rel="stylesheet" href="/assets/css/custom_panel.css?v=2019-03-11-00-26-47-+0100">
				<link rel="stylesheet" href="/assets/css/custom_contrast.css?v=2019-03-11-00-26-47-+0100">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

				<script src="/assets/js/vendor/chartist.min.js"></script>
        <script src="/assets/js/vendor/chartist-plugin-accessibility.min.js"></script>
        <script src="/assets/js/vendor/chartist-plugin-legend.js"></script>
        <script src="/assets/js/vendor/chartist-plugin-axistitle.js"></script>
        <script src="/assets/js/vendor/chartist-plugin-tooltip.min.js"></script>

				<script src="/assets/js/accessibility.js"></script>

				<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
				<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


				<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/0.10.0/lodash.min.js"></script>
				<script src="/assets/amcharts4/core.js"></script>
				<script src="/assets/amcharts4/maps.js"></script>
				<script src="/assets/amcharts4/charts.js"></script>
				<script src="/assets/amcharts4/themes/animated.js"></script>
				<script src="/assets/amcharts4/themes/dataviz.js"></script>
				<script src="/assets/amcharts4/geodata/worldLow.js"></script>

				<script src="http://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
				<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
				<script src="https://cdn.rawgit.com/jasondavies/d3-cloud/v1.2.1/build/d3.layout.cloud.js"></script>

</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light">
  <a class="navbar-brand" href="/"><img src="/assets/img/logo_GUS_en.png"></a>
  <button class="navbar-toggler custom-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation" style="background-color: transparent;">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0" style="margin-left: auto;">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/indicator">Indicators</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/game">Game</a>
      </li>
      <li class="nav-item kontrast" style="margin-top: 20px;">

      </li>
    </ul>

    <form class="form-inline my-2 my-lg-0" action="/search/?search=">
      <input class="form-control mr-sm-2" type="text" placeholder="Search" name="search">
      <button class="btn btn-outline-success my-2 my-sm-0" type="submit" style="width: 15px;"><i class="fa fa-search"></i></button>
    </form>

  </div>
</nav>

<script>
var switcher = new accessibilitySwitcher('');
$(".high").attr('style',  'font-size:26px;color:#000000;');
$(".default").attr('style',  'font-size:26px;color:#ffffff;');


if ($("body").css("background-color")=='rgb(0, 0, 0)'){
  $(".high").attr('style',  'display:none');
}else{
  $(".default").attr('style',  'display:none');
}

$(".high").click(function() {
  $(".high").attr('style',  'display:none');
  $(".default").attr('style',  'font-size:26px;color:#ffffff;display:block;');
});

$(".default").click(function() {
  $(".default").attr('style',  'display:none');
  $(".high").attr('style',  'font-size:26px;color:#000000;display:block;');
});

</script>


<div class="front" style="padding: .5rem 1rem;display: inline-table;width: 98%;margin-top: 35px;">
			








































<h3 style="margin: 2em 0;">2.1.1 - Physical activity during the day </h3>

<ul class="nav nav-tabs">
  <li class="nav-item"><a class="nav-link active" href="#data" aria-controls="data" role="tab" data-toggle="tab">Data</a></li>
  <li class="nav-item"><a class="nav-link" href="#metadata" aria-controls="metadata" role="tab" data-toggle="tab">Metadata</a></li>
</ul>

<div style="float: left;width: 100%;">
  

  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="data">

          <div style="display: flow-root;margin-top: 15px;">
                <div id="title" style="text-align: center"><h3>Austria [seconds]</h3></div>
                <div id="chartdiv"></div>
                <div id="chartdiv2"></div>
                <table id="dataTable"></table>
          </div>

    </div>

    <div role="tabpanel" class="tab-pane" id="metadata">
      <div class="metadata-table">
          <h2>Information about indicator</h2>
          <table>
            
              
                <tr>
                  <th style="padding: 5px; height: 45px;">  Name of the indicator </th>
                  <td style="padding: 10px; text-align: justify; height: 45px;">  2.1.1 Physical activity during the day </td>
                </tr>
              
            
              
                <tr>
                  <th style="padding: 5px; height: 45px;">  Measure unit </th>
                  <td style="padding: 10px; text-align: justify; height: 45px;">  seconds </td>
                </tr>
              
            
              
                <tr>
                  <th style="padding: 5px; height: 45px;">  Description of the indicator </th>
                  <td style="padding: 10px; text-align: justify; height: 45px;">  The data shows average number of steps, average number of seconds spend biking, going downstairs or upstairs, jogging, standing, sitting, walking in 10-minutes periods. </td>
                </tr>
              
            
              
                <tr>
                  <th style="padding: 5px; height: 45px;">  Data sources </th>
                  <td style="padding: 10px; text-align: justify; height: 45px;">  BigO (mobile sensor data) </td>
                </tr>
              
            
          </table>
      </div>
    </div>
  </div>
</div>


<script>
  var stateData =(function() {
        var json = null;
        $.ajax({
            'async': false,
            'url': "/json/2.1.1.json",
            'dataType': "json",
            'success': function (data) {
                json = data;
            }
        });
        return json;
  })();

  am4core.useTheme(am4themes_animated);

  var mainContainer = am4core.create("chartdiv", am4core.Container);
  mainContainer.width = am4core.percent(100);
  mainContainer.height = am4core.percent(100);

  var mainContainer2 = am4core.create("chartdiv2", am4core.Container);
  mainContainer2.width = am4core.percent(100);
  mainContainer2.height = am4core.percent(100);

  var chart = mainContainer.createChild(am4charts.XYChart);
  chart.data = stateData['AT'];

  chart.colors.step = 2;
  chart.padding(30, 30, 10, 30);

  chart.legend = new am4charts.Legend();
  chart.legend.itemContainers.template.cursorOverStyle = am4core.MouseCursorStyle.pointer;

  var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
  categoryAxis.dataFields.category = "day";
  categoryAxis.renderer.minGridDistance = 60;
  categoryAxis.renderer.grid.template.location = 0;
  categoryAxis.interactionsEnabled = false;

  var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
  valueAxis.min = 0;
  valueAxis.max = 100;
  valueAxis.strictMinMax = true;
  valueAxis.calculateTotals = true;

  valueAxis.renderer.minGridDistance = 20;
  valueAxis.renderer.minWidth = 35;

  var series1 = chart.series.push(new am4charts.ColumnSeries());
  series1.columns.template.tooltipText = "{name}: {valueY}";
  series1.columns.template.column.strokeOpacity = 1;
  series1.name = "steps";
  series1.dataFields.categoryX = "day";
  series1.dataFields.valueY = "steps";
  series1.dataFields.valueYShow = "totalPercent";
  series1.dataItems.template.locations.categoryX = 0.5;
  series1.stacked = true;
  series1.tooltip.pointerOrientation = "vertical";
  series1.tooltip.dy = - 20;

  var bullet1 = series1.bullets.push(new am4charts.LabelBullet());
  bullet1.label.text = "{valueY.totalPercent.formatNumber('#.00')}%";
  bullet1.locationY = 0.5;
  bullet1.label.fill = am4core.color("#ffffff");
  bullet1.interactionsEnabled = false;

  var series2 = chart.series.push(series1.clone());
  series2.name = "biking";
  series2.dataFields.valueY = "biking";
  series2.fill = chart.colors.next();
  series2.stroke = series2.fill;

  var series3 = chart.series.push(series1.clone());
  series3.name = "downstairs";
  series3.dataFields.valueY = "downstairs";
  series3.fill = chart.colors.next();
  series3.stroke = series3.fill;

  var series4 = chart.series.push(series1.clone());
  series4.name = "jogging";
  series4.dataFields.valueY = "jogging";
  series4.fill = chart.colors.next();
  series4.stroke = series4.fill;

  var series5 = chart.series.push(series1.clone());
  series5.name = "sitting";
  series5.dataFields.valueY = "sitting";
  series5.fill = chart.colors.next();
  series5.stroke = series5.fill;

  var series6 = chart.series.push(series1.clone());
  series6.name = "standing";
  series6.dataFields.valueY = "standing";
  series6.fill = chart.colors.next();
  series6.stroke = series6.fill;

  var series7 = chart.series.push(series1.clone());
  series7.name = "upstairs";
  series7.dataFields.valueY = "upstairs";
  series7.fill = chart.colors.next();
  series7.stroke = series7.fill;

  var series8 = chart.series.push(series1.clone());
  series8.name = "walking";
  series8.dataFields.valueY = "walking";
  series8.fill = chart.colors.next();
  series8.stroke = series8.fill;

  chart.scrollbarX = new am4core.Scrollbar();

  chart.cursor = new am4charts.XYCursor();
  chart.cursor.behavior = "panX";


  var mapChart = mainContainer2.createChild(am4maps.MapChart);
  mapChart.projection = new am4maps.projections.Mercator();
  mapChart.geodata = am4geodata_worldLow;
  mapChart.zIndex = -1;
  mapChart.homeZoomLevel=1;
  mapChart.homeGeoPoint = {
  latitude: 52,
  longitude: 11
  };
  mapChart.seriesContainer.events.disableType("doublehit");
  mapChart.chartContainer.background.events.disableType("doublehit");
  mapChart.chartContainer.wheelable = false;

  var polygonSeries = mapChart.series.push(new am4maps.MapPolygonSeries())
  polygonSeries.useGeodata = true;
  polygonSeries.include = ["PL","NO","BG","FR","DK","LU","GE","IT","IE","GB","GR","PT","ES","CY","MT","RO","HR","SI","HU","SK","AT","CZ","BE","LT","LV","EE","FI","SE","DE"];

  var selectedStateId = "AT";
  var selectedPolygon;
  var selectedStateName;

  var polygonTemplate = polygonSeries.mapPolygons.template;
  polygonTemplate.togglable = true;

  var hoverState = polygonTemplate.states.create("hover");
  hoverState.properties.fill = mapChart.colors.getIndex(2);

  var activeState = polygonTemplate.states.create("active");
  activeState.properties.fill = mapChart.colors.getIndex(4);


  polygonTemplate.events.on("hit", function(event) {
    var id = event.target.dataItem.dataContext.id;
    showState(id, event.target.dataItem.dataContext.name, event.target);
    if (typeof stateData[id]!='undefined'){
      $("#dataTable").html('<thead><tr><th>Activity</th></tr></thead><tbody></tbody>');
      $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_steps><td>Steps</td></tr>" );
      $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_biking><td>Biking</td></tr>" );
      $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_downstairs><td>Downstairs</td></tr>" );
      $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_jogging><td>Jogging</td></tr>" );
      $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_sitting><td>Sitting</td></tr>" );
      $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_standing><td>Standing</td></tr>" );
      $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_upstairs><td>Upstairs</td></tr>" );
      $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_walking><td>Walking</td></tr>" );

      for (var kon=0;kon<stateData[selectedStateId].length;kon++){

               $("#dataTable").find('thead tr').append("<th>"+stateData[selectedStateId][kon].day+"</th>");
               $("#dataTable").find('.'+selectedStateId+'_steps').append("<td>"+stateData[selectedStateId][kon].steps.toFixed(2)+"</td>" );
               $("#dataTable").find('.'+selectedStateId+'_biking').append("<td>"+stateData[selectedStateId][kon].biking.toFixed(2)+"</td>" );
               $("#dataTable").find('.'+selectedStateId+'_downstairs').append("<td>"+stateData[selectedStateId][kon].downstairs.toFixed(2)+"</td>" );
               $("#dataTable").find('.'+selectedStateId+'_jogging').append("<td>"+stateData[selectedStateId][kon].jogging.toFixed(2)+"</td>" );
               $("#dataTable").find('.'+selectedStateId+'_sitting').append("<td>"+stateData[selectedStateId][kon].sitting.toFixed(2)+"</td>" );
               $("#dataTable").find('.'+selectedStateId+'_standing').append("<td>"+stateData[selectedStateId][kon].standing.toFixed(2)+"</td>" );
               $("#dataTable").find('.'+selectedStateId+'_upstairs').append("<td>"+stateData[selectedStateId][kon].upstairs.toFixed(2)+"</td>" );
               $("#dataTable").find('.'+selectedStateId+'_walking').append("<td>"+stateData[selectedStateId][kon].walking.toFixed(2)+"</td>" );

     }
    }
  })


  mapChart.seriesContainer.background.events.on("over", function(event) {
      showState(selectedStateId, selectedStateName, selectedPolygon);
  });


  function showState(id, stateName, polygon) {
       if(selectedStateId != id){
         if (typeof stateData[id]!='undefined'){
           var newData = stateData[id];
           if (selectedPolygon) {
             selectedPolygon.isActive = false;
           }

             chart.data = stateData[id];

           chart.invalidateRawData();
           selectedStateName = stateName;
           selectedStateId = id;
           selectedPolygon = polygon;
           $("#title h3").html(stateName + " [seconds]");
         }else{
           alert('No data for this country');
         }

       }

     }

     $("#dataTable").html('<thead><tr><th>Activity</th></tr></thead><tbody></tbody>');
     $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_steps><td>Steps</td></tr>" );
     $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_biking><td>Biking</td></tr>" );
     $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_downstairs><td>Downstairs</td></tr>" );
     $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_jogging><td>Jogging</td></tr>" );
     $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_sitting><td>Sitting</td></tr>" );
     $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_standing><td>Standing</td></tr>" );
     $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_upstairs><td>Upstairs</td></tr>" );
     $("#dataTable").find('tbody').append( "<tr class="+selectedStateId+"_walking><td>Walking</td></tr>" );

     for (var kon=0;kon<stateData[selectedStateId].length;kon++){

              $("#dataTable").find('thead tr').append("<th>"+stateData[selectedStateId][kon].day+"</th>");
              $("#dataTable").find('.'+selectedStateId+'_steps').append("<td>"+stateData[selectedStateId][kon].steps.toFixed(2)+"</td>" );
              $("#dataTable").find('.'+selectedStateId+'_biking').append("<td>"+stateData[selectedStateId][kon].biking.toFixed(2)+"</td>" );
              $("#dataTable").find('.'+selectedStateId+'_downstairs').append("<td>"+stateData[selectedStateId][kon].downstairs.toFixed(2)+"</td>" );
              $("#dataTable").find('.'+selectedStateId+'_jogging').append("<td>"+stateData[selectedStateId][kon].jogging.toFixed(2)+"</td>" );
              $("#dataTable").find('.'+selectedStateId+'_sitting').append("<td>"+stateData[selectedStateId][kon].sitting.toFixed(2)+"</td>" );
              $("#dataTable").find('.'+selectedStateId+'_standing').append("<td>"+stateData[selectedStateId][kon].standing.toFixed(2)+"</td>" );
              $("#dataTable").find('.'+selectedStateId+'_upstairs').append("<td>"+stateData[selectedStateId][kon].upstairs.toFixed(2)+"</td>" );
              $("#dataTable").find('.'+selectedStateId+'_walking').append("<td>"+stateData[selectedStateId][kon].walking.toFixed(2)+"</td>" );

    }

</script>


		<footer>

</footer>

</div>

</body>

</html>
